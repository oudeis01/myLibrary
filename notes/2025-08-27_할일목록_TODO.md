# 📝 MyLibrary 할 일 목록 (TODO List)

> **작성일**: 2025년 8월 27일  
> **기반**: 프로젝트 청사진 v2.0 및 현재 상황 분석

---

## 🔥 긴급 (Critical) - 이번 주 내 완료

### 1. 라이브러리 스캔 시 도서 추가 문제 해결
**우선순위**: P0 (최고)  
**예상 소요**: 2-3일  
**담당**: Backend Developer

**문제**:
- 스캔 시 `LibraryScanner: (new book addition should be done via upload API)` 오류
- 새로운 책이 데이터베이스에 추가되지 않음

**작업 내용**:
- [ ] `LibraryScanner::scan_worker()` 함수에서 새 도서 감지 로직 수정
- [ ] `BookManager::save_uploaded_book()` 연동 또는 별도 추가 로직 구현
- [ ] 메타데이터 자동 추출 및 썸네일 생성 통합
- [ ] 에러 핸들링 및 로깅 개선

**성공 기준**:
- 스캔 실행 시 새로운 EPUB/PDF 파일이 자동으로 라이브러리에 추가됨
- 메타데이터와 썸네일이 정상적으로 생성됨

---

### 2. 스캔 상태 UI 실시간 업데이트 수정
**우선순위**: P0  
**예상 소요**: 1-2일  
**담당**: Frontend Developer

**문제**:
- Admin 페이지에서 스캔 진행률(%) 업데이트 안됨
- 터미널 UI에 로그가 출력되지 않음

**작업 내용**:
- [ ] `MonitoringPage` 컴포넌트의 폴링 로직 점검
- [ ] `/api/library/scan-status` 엔드포인트 응답 확인
- [ ] 실시간 로그 출력 기능 구현
- [ ] 진행률 바 및 통계 업데이트 로직 수정

**성공 기준**:
- 스캔 중 실시간으로 진행률이 표시됨
- 처리 중인 파일명과 로그가 터미널 UI에 표시됨

---

## 🔧 높음 (High) - 2주 내 완료

### 3. 썸네일 시스템 완성
**우선순위**: P1  
**예상 소요**: 5-7일  
**담당**: Full-Stack

**작업 내용**:
- [ ] 프론트엔드 점진적 썸네일 로딩 구현
- [ ] PWA IndexedDB 썸네일 캐싱 시스템
- [ ] 썸네일 생성 실패 시 기본 이미지 표시
- [ ] 캐시 정리 및 관리 기능

**파일 수정 대상**:
- `frontend-vite/src/lib/components/ThumbnailLoader.ts` (신규)
- `frontend-vite/src/lib/services/ThumbnailCache.ts` (신규)
- `src/book_manager.cpp` (썸네일 생성 개선)

**성공 기준**:
- 도서 목록에서 썸네일이 점진적으로 로딩됨
- 오프라인에서도 캐시된 썸네일이 표시됨

---

### 4. 리더 기능 실제 구현
**우선순위**: P1  
**예상 소요**: 1-2주  
**담당**: Frontend Developer

**작업 내용**:
- [ ] EPUB.js 완전 통합 및 페이지 렌더링
- [ ] PDF.js 뷰어 구현
- [ ] Comic 파일 (CBZ/CBR) 이미지 뷰어
- [ ] 읽기 진행률 저장/복원 로직
- [ ] 리더 설정 (폰트 크기, 배경색 등)

**파일 수정 대상**:
- `frontend-vite/src/lib/readers/` 전체 디렉토리
- `frontend-vite/src/lib/components/Reader.ts` (신규)

**성공 기준**:
- 각 형식의 파일을 실제로 읽을 수 있음
- 페이지 이동 및 진행률이 정상 작동함

---

### 5. Admin 페이지 단일화
**우선순위**: P1  
**예상 소요**: 3-4일  
**담당**: Frontend Developer

**문제**:
- Sync Scan 등 작업 시 새 페이지로 이동하여 UX 저하

**작업 내용**:
- [ ] 모든 Admin 기능을 단일 페이지 내 모달로 처리
- [ ] 모니터링을 별도 페이지가 아닌 인라인으로 표시
- [ ] 탭 기반 인터페이스로 기능 분류
- [ ] 백그라운드 작업 중에도 다른 Admin 기능 사용 가능

**성공 기준**:
- Admin 페이지에서 페이지 이동 없이 모든 작업 수행 가능
- 백그라운드 스캔 중에도 다른 관리 작업 가능

---

## 📱 중간 (Medium) - 1개월 내 완료

### 6. 디자인 시스템 통일
**우선순위**: P2  
**예상 소요**: 1주  
**담당**: Frontend Developer

**작업 내용**:
- [ ] Admin/Library/Login 페이지 컬러 스킴 통일
- [ ] 모든 이모티콘 제거하고 텍스트/아이콘으로 대체
- [ ] 사각형 컨테이너 모서리 각지게 변경 (border-radius 제거)
- [ ] ASCII 점자 스피너로 모든 로딩 애니메이션 통일

**CSS 변경 대상**:
- `frontend-vite/src/style.css` 전면 리팩토링
- 컴포넌트별 스타일 통일

**성공 기준**:
- 모든 페이지가 일관된 디자인 언어 사용
- 미니멀하고 깔끔한 인터페이스

---

### 7. 파일 관리 시스템 구현
**우선순위**: P2  
**예상 소요**: 1-2주  
**담당**: Full-Stack

**작업 내용**:
- [ ] books/ 폴더 탐색 가능한 파일 브라우저 UI
- [ ] 개별 도서 메타데이터 편집 기능
- [ ] 파일명 변경 및 삭제 기능
- [ ] 다중 선택 및 배치 작업 지원

**새로운 API 엔드포인트**:
- `GET /api/files/browse` - 디렉토리 탐색
- `PUT /api/books/{id}/metadata` - 메타데이터 수정
- `DELETE /api/books/{id}` - 도서 삭제
- `POST /api/books/batch` - 배치 작업

**성공 기준**:
- Admin에서 파일 시스템을 시각적으로 탐색 가능
- 도서 정보를 직접 수정할 수 있음

---

### 8. 업로드 검증 강화
**우선순위**: P2  
**예상 소요**: 3-4일  
**담당**: Frontend + Backend

**작업 내용**:
- [ ] 프론트엔드에서 파일 형식 사전 검증
- [ ] 파일 크기 제한 및 진행률 표시
- [ ] 잘못된 파일에 대한 상세 에러 메시지
- [ ] 드래그 앤 드롭 업로드 지원

**성공 기준**:
- 지원하지 않는 파일 업로드 시 명확한 안내
- 대용량 파일 업로드 시 진행률 표시

---

## 📊 낮음 (Low) - 2-3개월 내 완료

### 9. 컬렉션 기능 구현
**우선순위**: P3  
**예상 소요**: 2-3주  
**담당**: Full-Stack

**작업 내용**:
- [ ] 사용자별 컬렉션 생성/관리
- [ ] 도서를 컬렉션에 추가/제거
- [ ] 공개/비공개 설정
- [ ] 다른 사용자 초대 기능

**데이터베이스 스키마**:
```sql
CREATE TABLE collections (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    name VARCHAR(255) NOT NULL,
    description TEXT,
    visibility VARCHAR(10) DEFAULT 'private',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE collection_books (
    collection_id INTEGER REFERENCES collections(id),
    book_id INTEGER REFERENCES books(id),
    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (collection_id, book_id)
);
```

---

### 10. 페이지네이션 및 성능 최적화
**우선순위**: P3  
**예상 소요**: 1-2주  
**담당**: Full-Stack

**작업 내용**:
- [ ] 가상 스크롤링 구현 (대량 도서 지원)
- [ ] 한 페이지 최대 도서 수 Admin 설정 가능
- [ ] 지연 로딩 및 프리페칭 구현
- [ ] 데이터베이스 쿼리 최적화

**성능 목표**:
- 10,000권 이상의 라이브러리에서도 부드러운 스크롤
- 초기 페이지 로딩 시간 2초 이내

---

### 11. 도서 뷰 옵션
**우선순위**: P3  
**예상 소요**: 1주  
**담당**: Frontend Developer

**작업 내용**:
- [ ] 카드뷰 ↔ 리스트뷰 전환 토글
- [ ] 정렬 옵션 (제목, 저자, 업로드일, 진행률)
- [ ] 필터링 기능 (파일 형식, 읽기 상태)
- [ ] 검색 기능 향상

---

### 12. 컬러 스킴 설정 기능
**우선순위**: P3  
**예상 소요**: 1주  
**담당**: Frontend Developer

**작업 내용**:
- [ ] Admin에서 전체 컬러 스킴 설정
- [ ] 컬러피커 UI 구현
- [ ] 5개 기본 컬러 조합 프리셋 제공
- [ ] 사용자별 테마 저장

---

## 📚 장기 과제 (Backlog) - 6개월 이후

### 13. 성능 최적화
- [ ] 도서 스캔 멀티스레딩 최적화
- [ ] 썸네일 생성 성능 향상
- [ ] 데이터베이스 인덱싱 최적화
- [ ] 메모리 사용량 최적화

### 14. 고급 기능
- [ ] 전체 텍스트 검색 (PostgreSQL FTS)
- [ ] 북마크 및 하이라이트 시스템
- [ ] 읽기 통계 및 분석
- [ ] 외부 메타데이터 연동 (ISBN API)

### 15. 문서화
- [ ] README.md 전면 업데이트
- [ ] API 문서 자동 생성
- [ ] 사용자 가이드 작성
- [ ] 개발자 문서 정리

### 16. 코드 품질
- [ ] 단위 테스트 작성 (Backend C++)
- [ ] E2E 테스트 구현 (Frontend)
- [ ] 코드 리뷰 프로세스 정립
- [ ] CI/CD 파이프라인 구축

---

## 📋 작업 진행 상황 추적

### 이번 주 목표 (2025-08-27 ~ 09-02)
- [ ] 라이브러리 스캔 도서 추가 문제 해결
- [ ] 스캔 상태 UI 실시간 업데이트 수정
- [ ] 썸네일 시스템 기본 구현 시작

### 다음 주 목표 (2025-09-03 ~ 09-09)
- [ ] 썸네일 시스템 완성
- [ ] 리더 기능 구현 시작
- [ ] Admin 페이지 단일화 작업

### 월별 마일스톤
- **9월**: 핵심 기능 안정화 완료
- **10월**: UX/UI 개선 및 Admin 시스템 완성
- **11월**: 고급 기능 및 성능 최적화

---

## 🔄 정기 검토 계획

### 주간 검토 (매주 월요일)
- 완료된 작업 확인
- 진행 중인 작업 상태 점검
- 다음 주 우선순위 조정

### 월간 검토 (매월 첫째 주)
- 전체 로드맵 진행 상황 평가
- 사용자 피드백 반영
- 기술적 부채 정리 계획

### 분기별 검토 (3개월마다)
- 장기 목표 달성도 평가
- 기술 스택 업데이트 검토
- 새로운 기능 요구사항 분석

---

**📌 참고사항**:
- 각 작업의 우선순위는 사용자 피드백과 기술적 의존성에 따라 조정될 수 있습니다
- 예상 소요 시간은 1인 개발 기준이며, 실제 상황에 따라 달라질 수 있습니다
- 이슈 발생 시 Slack/Discord를 통해 실시간 소통하여 빠른 해결을 도모합니다